{{ define "main" }}

{{ if .Content }}
<header>
    <h2 class="blog-post-title">
        <a class="text-dark" href="{{ .RelPermalink }}">{{ .Title | markdownify }}</a>
    </h2>
    {{ partial "post-tags" . }}
    {{ partial "post-categories" . }}
    <hr>
</header>
<section class="blog-post">
    {{ .Content }}

    {{ if .IsTranslated }}
    <h4>{{ i18n "translations" }}</h4>
    <ul>
        {{ range .Translations }}
        <li>
            <a href="{{ .RelPermalink }}">{{ .Lang }}: {{ .Title }}</a>
        </li>
        {{ end }}
    </ul>
    {{ end }}
</section>
{{ end }}

{{ $truncate := default true .Site.Params.truncate }}

{{ $paginator := .Paginate (where .Pages "Type" "post") }}
{{ range $paginator.Pages }}

    {{ if $truncate }}
        {{ .Render "summary" }}
    {{ else }}
        {{ .Render "content" }}
    {{ end }}

{{ end }}

{{ partial "paginator" . }}

{{ end }}
